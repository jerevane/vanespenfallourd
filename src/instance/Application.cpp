// Generated by dia2code
#ifndef INSTANCE__APPLICATION__C
#define INSTANCE__APPLICATION__C


namespace instance {
  class Intro;
  class Worldmap;
  class Fight;
  class Inn;
};
namespace sf {
  class RenderWindow;
};
namespace instance {
  class Screen;
}

#include "Application.h"
#include <iostream>
#include <render/IntroRenderer.h>
#include <render/WorldmapRenderer.h>
#include <render/FightRenderer.h>
#include <render/InnRenderer.h>

namespace instance {



    Application::Application() :    RenderWindow(sf::VideoMode(800, 600), "Final Fantastique",sf::Style::Titlebar | sf::Style::Close | sf::Style::Resize),
                                    intro(this, new render::IntroRenderer(this)),
                                    fight(this, new render::FightRenderer(this)),
                                    worldmap(this, new render::WorldmapRenderer(this)),
                                    inn(this, new render::InnRenderer(this)){

      std::cout << "Starting game" << std::endl;

      setVerticalSyncEnabled(false);
      setMouseCursorVisible(true);

      std::cout << "SFML window created" << std::endl;

      font.loadFromFile("../res/Square.ttf");
      intro.renderer->initRender();
      intro.init();

    }

    void Application::play(state::State* state) {
        //What happens when the game is launched
        intro.run();
        worldmap.init(state);
        if (worldmap.run() == "fight")
        {

        } else if (worldmap.run() == "inn")
        {

        } else if (worldmap.run() == "intro")
        {

        }

    }


    Application::~Application()
    {
        //dtor
    }


};

#endif
